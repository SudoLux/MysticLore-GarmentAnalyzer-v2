<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mystic Lore Garment Analyzer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-color: var(--color-bg);
            color: var(--color-text);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        :root {
            --color-bg: #EDE3CF;
            --color-text: #3D2B1F;
            --color-text-muted: #6b5a4d;
            --color-accent: #1B3A63;
            --color-highlight: #C89B3C;
            --color-glass-bg: rgba(237, 227, 207, 0.6);
            --color-glass-border: rgba(61, 43, 31, 0.3);
            --color-card-bg: rgba(237, 227, 207, 0.8);
            --color-chip-bg: #C89B3C;
            --color-chip-text: #3D2B1F;
            --color-progress-bg: #d4c9b5;
            --color-error: #ef4444;
            --color-accent-glass-bg: rgba(27, 58, 99, 0.2);
            --color-accent-glass-border: rgba(27, 58, 99, 0.3);
        }

        body.dark {
            --color-bg: #0A0A0A;
            --color-text: #FFFFFF;
            --color-text-muted: #a0a0a0;
            --color-accent: #1B3A63;
            --color-highlight: #C89B3C;
            --color-glass-bg: rgba(20, 20, 20, 0.6);
            --color-glass-border: rgba(255, 255, 255, 0.3);
            --color-card-bg: rgba(20, 20, 20, 0.6);
            --color-chip-bg: #C89B3C;
            --color-chip-text: #0A0A0A;
            --color-progress-bg: #333333;
            --color-error: #f87171;
            --color-accent-glass-bg: rgba(27, 58, 99, 0.15);
            --color-accent-glass-border: rgba(27, 58, 99, 0.2);
        }

        .pill-button {
            border-radius: 9999px;
            padding: 0.5rem 1.25rem;
            font-weight: 600;
            transition: all 0.2s ease;
        }
    </style>
    <style>
        /* Styles for PDF Export */
        body.pdf-export-mode {
            background-color: white !important;
        }
        
        .pdf-export-mode body > #root > *:not(#printable-guide) {
            display: none !important;
        }

        .pdf-export-mode main {
            display: block !important;
            align-items: start !important;
        }

        #printable-guide {
            display: none;
        }
        
        body.pdf-export-mode #printable-guide {
            display: block !important;
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        .pdf-page {
            width: 210mm;
            height: 297mm; /* A4 Portrait Height */
            padding: 18mm;
            box-sizing: border-box;
            overflow: hidden; /* Ensure content doesn't spill out */
            background-color: white !important;
            color: #3D2B1F !important;
            display: flex;
            flex-direction: column;
        }

        .pdf-export-mode .backdrop-blur-lg, 
        .pdf-export-mode .backdrop-blur-xl {
            backdrop-filter: none !important;
        }

        .pdf-export-mode .shadow-lg, 
        .pdf-export-mode .shadow-xl, 
        .pdf-export-mode .shadow-sm {
            box-shadow: none !important;
        }
        
        /* Compact styles for PDF export */
        .pdf-export-mode #printable-guide {
            font-size: 10pt;
            line-height: 1.5;
        }
        .pdf-export-mode #printable-guide h1,
        .pdf-export-mode #printable-guide h2,
        .pdf-export-mode #printable-guide h3,
        .pdf-export-mode #printable-guide h4 {
            margin-bottom: 0.75rem;
            font-weight: 700;
            color: #3D2B1F;
        }
        .pdf-export-mode #printable-guide h1 { font-size: 24pt; margin-bottom: 0.5rem; line-height: 1.2; }
        .pdf-export-mode #printable-guide h2 { font-size: 16pt; border-bottom: 1px solid rgba(61, 43, 31, 0.2); padding-bottom: 0.25rem; }
        .pdf-export-mode #printable-guide h3 { font-size: 12pt; }
        .pdf-export-mode #printable-guide h4 { font-size: 10pt; font-weight: 700; margin-bottom: 0.25rem; }
        .pdf-export-mode #printable-guide p, .pdf-export-mode #printable-guide li {
            font-size: 10pt;
            color: #3D2B1F;
        }
        .pdf-export-mode #printable-guide .font-semibold {
            font-weight: 600;
            color: #3D2B1F;
        }
        .pdf-export-mode #printable-guide .gap-6 { gap: 1rem; }
        .pdf-export-mode #printable-guide .gap-8 { gap: 1.25rem; }
        .pdf-export-mode #printable-guide .mb-6 { margin-bottom: 1rem; }
        .pdf-export-mode #printable-guide .mb-8 { margin-bottom: 1.25rem; }
        .pdf-export-mode #printable-guide .mt-2 { margin-top: 0.5rem; }
        .pdf-export-mode #printable-guide .mt-8 { margin-top: 1.25rem; }
        .pdf-export-mode #printable-guide .space-y-1 > * + * { margin-top: 0.25rem; }
        .pdf-export-mode #printable-guide .space-y-4 > * + * { margin-top: 0.5rem; }
        .pdf-export-mode #printable-guide .list-disc { list-style-type: disc; }
        .pdf-export-mode #printable-guide .list-inside { list-style-position: inside; }

        /* Styles for page 1 PDF layout */
        .pdf-garment-category {
            color: #C89B3C;
            font-size: 11pt;
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        /* 2-column layout for sewing steps */
        .pdf-sewing-steps-grid {
            column-count: 2;
            column-gap: 1rem;
        }
        .pdf-sewing-steps-grid > div {
            break-inside: avoid;
            padding-bottom: 0.75rem;
        }
    </style>
<script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'cinzel': ['"Cinzel Decorative"', 'serif'],
          },
          colors: {
            'theme-bg': 'var(--color-bg)',
            'theme-text': 'var(--color-text)',
            'theme-text-muted': 'var(--color-text-muted)',
            'theme-accent': 'var(--color-accent)',
            'theme-highlight': 'var(--color-highlight)',
            'theme-glass-bg': 'var(--color-glass-bg)',
            'theme-glass-border': 'var(--color-glass-border)',
            'theme-card-bg': 'var(--color-card-bg)',
            'theme-chip-bg': 'var(--color-chip-bg)',
            'theme-chip-text': 'var(--color-chip-text)',
            'theme-progress-bg': 'var(--color-progress-bg)',
            'theme-error': 'var(--color-error)',
            'theme-accent-glass-bg': 'var(--color-accent-glass-bg)',
            'theme-accent-glass-border': 'var(--color-accent-glass-border)',
            'theme-blue': '#1B3A63',
            'theme-gold': '#C89B3C',
          }
        }
      }
    }
</script>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.1.1",
    "react-dom/": "https://esm.sh/react-dom@^19.1.1/",
    "jspdf": "https://esm.sh/jspdf@^3.0.1",
    "html2canvas": "https://esm.sh/html2canvas@^1.4.1",
    "vite": "https://esm.sh/vite@^7.1.3",
    "@vitejs/plugin-react": "https://esm.sh/@vitejs/plugin-react@^5.0.1"
  }
}
</script>
</head>
<body class="bg-theme-bg text-theme-text">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>